<!DOCTYPE html>
<html>
<head>
    <script type="text/javascript" src="./scripts/scriptjava.js"></script>
</head>
<body>

<h1>Average tempValue:</h1>

<p id="tempValue">Please, wait 5 sec</p>


<script>
    var tempValue =  document.getElementById("tempValue");
    setInterval(function () {
                var xhttp = new XMLHttpRequest();
                xhttp.onreadystatechange = function () {
                    if (this.readyState == 4 && this.status == 200) {
                        tempValue.innerHTML = JSON.parse(this.responseText).averageTemp;
                    }
                };
                xhttp.open("GET", "http://localhost:8080/test-webservice-rest/rest/temperatures/average", false);
                xhttp.setRequestHeader("Content-Type", "application/json; charset=utf-8");
                xhttp.send();
            },
            5000
    );
</script>
</body>
</html>		
